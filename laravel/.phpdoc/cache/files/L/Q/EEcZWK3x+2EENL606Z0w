1711241702
waR3U4bTeM%3A9f788ff6a1a861fabf079095eced4657-3304faf5d2cc7dfc356a5189a24c86ae
s:25000:"TzozMzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlIjoxNDp7czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBkb2NCbG9jayI7TjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGhhc2giO3M6MzI6IjMzMDRmYWY1ZDJjYzdkZmMzNTZhNTE4OWEyNGM4NmFlIjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAG5hbWUiO3M6NDQ6IjYzYmI2ZWI2MTlkODA3NTk3NDY4ZTUxYjE1ZDZkNzIxN2FhN2RjMjYucGhwIjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAHBhdGgiO3M6Njg6InN0b3JhZ2UvZnJhbWV3b3JrL3ZpZXdzLzYzYmI2ZWI2MTlkODA3NTk3NDY4ZTUxYjE1ZDZkNzIxN2FhN2RjMjYucGhwIjtzOjQxOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAHNvdXJjZSI7czoxNzc2NzoiCjw/cGhwCiAgJGZpZWxkWyd3cmFwcGVyJ10gPSAkZmllbGRbJ3dyYXBwZXInXSA/PyAkZmllbGRbJ3dyYXBwZXJBdHRyaWJ1dGVzJ10gPz8gW107CiAgJGZpZWxkWyd3cmFwcGVyJ11bJ2NsYXNzJ10gPSAkZmllbGRbJ3dyYXBwZXInXVsnY2xhc3MnXSA/PyAnZm9ybS1ncm91cCBjb2wtc20tMTInOwogICRmaWVsZFsnd3JhcHBlciddWydjbGFzcyddID0gJGZpZWxkWyd3cmFwcGVyJ11bJ2NsYXNzJ10uJyBjaGVja2xpc3RfZGVwZW5kZW5jeSc7CiAgJGZpZWxkWyd3cmFwcGVyJ11bJ2RhdGEtZW50aXR5J10gPSAkZmllbGRbJ3dyYXBwZXInXVsnZGF0YS1lbnRpdHknXSA/PyAkZmllbGRbJ2ZpZWxkX3VuaXF1ZV9uYW1lJ107CiAgJGZpZWxkWyd3cmFwcGVyJ11bJ2RhdGEtaW5pdC1mdW5jdGlvbiddID0gJGZpZWxkWyd3cmFwcGVyJ11bJ2luaXQtZnVuY3Rpb24nXSA/PyAnYnBGaWVsZEluaXRDaGVja2xpc3REZXBlbmRlbmN5RWxlbWVudCc7Cj8+Cgo8P3BocCBlY2hvICRfX2Vudi0+bWFrZSgnY3J1ZDo6ZmllbGRzLmluYy53cmFwcGVyX3N0YXJ0JywgXElsbHVtaW5hdGVcU3VwcG9ydFxBcnI6OmV4Y2VwdChnZXRfZGVmaW5lZF92YXJzKCksIFsnX19kYXRhJywgJ19fcGF0aCddKSktPnJlbmRlcigpOyA/PgoKICAgIDxsYWJlbD48P3BocCBlY2hvICRmaWVsZFsnbGFiZWwnXTsgPz48L2xhYmVsPgogICAgPD9waHAKICAgICAgICAkZW50aXR5X21vZGVsID0gJGNydWQtPmdldE1vZGVsKCk7CgogICAgICAgIC8vc2hvcnQgbmFtZSBmb3IgZGVwZW5kZW5jeSBmaWVsZHMKICAgICAgICAkcHJpbWFyeV9kZXBlbmRlbmN5ID0gJGZpZWxkWydzdWJmaWVsZHMnXVsncHJpbWFyeSddOwogICAgICAgICRzZWNvbmRhcnlfZGVwZW5kZW5jeSA9ICRmaWVsZFsnc3ViZmllbGRzJ11bJ3NlY29uZGFyeSddOwoKICAgICAgICAvL2FsbCBpdGVtcyB3aXRoIHJlbGF0aW9uCiAgICAgICAgJGRlcGVuZGVuY2llcyA9ICRwcmltYXJ5X2RlcGVuZGVuY3lbJ21vZGVsJ106OndpdGgoJHByaW1hcnlfZGVwZW5kZW5jeVsnZW50aXR5X3NlY29uZGFyeSddKS0+Z2V0KCk7CgogICAgICAgICRkZXBlbmRlbmN5QXJyYXkgPSBbXTsKCiAgICAgICAgLy9jb252ZXJ0IGRlcGVuZGVuY3kgYXJyYXkgdG8gc2ltcGxlIG1hdHJpeCAoIHByaW1hcnkgaWQgYXMga2V5IGFuZCBhcnJheSB3aXRoIHNlY29uZGFyaWVzIGlkICkKICAgICAgICBmb3JlYWNoICgkZGVwZW5kZW5jaWVzIGFzICRwcmltYXJ5KSB7CiAgICAgICAgICAgICRkZXBlbmRlbmN5QXJyYXlbJHByaW1hcnktPmlkXSA9IFtdOwogICAgICAgICAgICBmb3JlYWNoICgkcHJpbWFyeS0+eyRwcmltYXJ5X2RlcGVuZGVuY3lbJ2VudGl0eV9zZWNvbmRhcnknXX0gYXMgJHNlY29uZGFyeSkgewogICAgICAgICAgICAgICAgJGRlcGVuZGVuY3lBcnJheVskcHJpbWFyeS0+aWRdW10gPSAkc2Vjb25kYXJ5LT5pZDsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgJG9sZF9wcmltYXJ5X2RlcGVuZGVuY3kgPSBvbGRfZW1wdHlfb3JfbnVsbCgkcHJpbWFyeV9kZXBlbmRlbmN5WyduYW1lJ10sIGZhbHNlKSA/PyBmYWxzZTsKICAgICAgICAkb2xkX3NlY29uZGFyeV9kZXBlbmRlbmN5ID0gb2xkX2VtcHR5X29yX251bGwoJHNlY29uZGFyeV9kZXBlbmRlbmN5WyduYW1lJ10sIGZhbHNlKSA/PyBmYWxzZTsKCiAgICAgIC8vZm9yIHVwZGF0ZSBmb3JtLCBnZXQgaW5pdGlhbCBzdGF0ZSBvZiB0aGUgZW50aXR5CiAgICAgIGlmIChpc3NldCgkaWQpICYmICRpZCkgewoKICAgICAgICAvL2dldCBlbnRpdHkgd2l0aCByZWxhdGlvbnMgZm9yIHByaW1hcnkgZGVwZW5kZW5jeQogICAgICAgICAgJGVudGl0eV9kZXBlbmRlbmNpZXMgPSAkZW50aXR5X21vZGVsLT53aXRoKCRwcmltYXJ5X2RlcGVuZGVuY3lbJ2VudGl0eSddKQogICAgICAgICAgLT53aXRoKCRwcmltYXJ5X2RlcGVuZGVuY3lbJ2VudGl0eSddLicuJy4kcHJpbWFyeV9kZXBlbmRlbmN5WydlbnRpdHlfc2Vjb25kYXJ5J10pCiAgICAgICAgICAtPmZpbmQoJGlkKTsKCiAgICAgICAgICAkc2Vjb25kYXJpZXNfZnJvbV9wcmltYXJ5ID0gW107CgogICAgICAgICAgLy9jb252ZXJ0IHJlbGF0aW9uIGluIGFycmF5CiAgICAgICAgICAkcHJpbWFyeV9hcnJheSA9ICRlbnRpdHlfZGVwZW5kZW5jaWVzLT57JHByaW1hcnlfZGVwZW5kZW5jeVsnZW50aXR5J119LT50b0FycmF5KCk7CgogICAgICAgICAgJHNlY29uZGFyeV9pZHMgPSBbXTsKICAgICAgICAgIC8vY3JlYXRlIHNlY29uZGFyeSBkZXBlbmRlbmN5IGZyb20gcHJpbWFyeSByZWxhdGlvbiwgdXNlZCB0byBjaGVjayB3aGF0IGNoZWNrYm94IG11c3QgYmUgY2hlY2tlZCBmcm9tIHNlY29uZCBjaGVja2xpc3QKICAgICAgICAgIGlmICgkb2xkX3ByaW1hcnlfZGVwZW5kZW5jeSkgewogICAgICAgICAgICAgIGZvcmVhY2ggKCRvbGRfcHJpbWFyeV9kZXBlbmRlbmN5IGFzICRwcmltYXJ5X2l0ZW0pIHsKICAgICAgICAgICAgICAgICAgZm9yZWFjaCAoJGRlcGVuZGVuY3lBcnJheVskcHJpbWFyeV9pdGVtXSBhcyAkc2Vjb25kX2l0ZW0pIHsKICAgICAgICAgICAgICAgICAgICAgICRzZWNvbmRhcnlfaWRzWyRzZWNvbmRfaXRlbV0gPSAkc2Vjb25kX2l0ZW07CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgeyAvL2NyZWF0ZSBkZXBlbmRlbmNpZXMgZnJvbSByZWxhdGlvbiBpZiBub3QgZnJvbSB2YWxpZGF0ZSBlcnJvcgogICAgICAgICAgICAgIGZvcmVhY2ggKCRwcmltYXJ5X2FycmF5IGFzICRwcmltYXJ5X2l0ZW0pIHsKICAgICAgICAgICAgICAgICAgZm9yZWFjaCAoJHByaW1hcnlfaXRlbVskc2Vjb25kYXJ5X2RlcGVuZGVuY3lbJ2VudGl0eSddXSBhcyAkc2Vjb25kX2l0ZW0pIHsKICAgICAgICAgICAgICAgICAgICAgICRzZWNvbmRhcnlfaWRzWyRzZWNvbmRfaXRlbVsnaWQnXV0gPSAkc2Vjb25kX2l0ZW1bJ2lkJ107CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgIH0KCiAgICAgICAgLy9qc29uIGVuY29kZSBvZiBkZXBlbmRlbmN5IG1hdHJpeAogICAgICAgICRkZXBlbmRlbmN5SnNvbiA9IGpzb25fZW5jb2RlKCRkZXBlbmRlbmN5QXJyYXkpOwogICAgPz4KCiAgICA8ZGl2IGNsYXNzPSJjb250YWluZXIiPgoKICAgICAgPGRpdiBjbGFzcz0icm93Ij4KICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbC1zbS0xMiI+CiAgICAgICAgICAgICAgPGxhYmVsPjw/cGhwIGVjaG8gJHByaW1hcnlfZGVwZW5kZW5jeVsnbGFiZWwnXTsgPz48L2xhYmVsPgogICAgICAgICAgICAgIDw/cGhwIGVjaG8gJF9fZW52LT5tYWtlKCdjcnVkOjpmaWVsZHMuaW5jLnRyYW5zbGF0YWJsZV9pY29uJywgWydmaWVsZCcgPT4gJHByaW1hcnlfZGVwZW5kZW5jeV0sIFxJbGx1bWluYXRlXFN1cHBvcnRcQXJyOjpleGNlcHQoZ2V0X2RlZmluZWRfdmFycygpLCBbJ19fZGF0YScsICdfX3BhdGgnXSkpLT5yZW5kZXIoKTsgPz4KICAgICAgICAgIDwvZGl2PgogICAgICA8L2Rpdj4KCiAgICAgIDxkaXYgY2xhc3M9InJvdyI+CgogICAgICAgICAgPGRpdiBjbGFzcz0iaGlkZGVuX2ZpZWxkc19wcmltYXJ5IiBkYXRhLW5hbWUgPSAiPD9waHAgZWNobyBlKCRwcmltYXJ5X2RlcGVuZGVuY3lbJ25hbWUnXSk7ID8+Ij4KICAgICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIGJwLWZpZWxkLW5hbWU9Ijw/cGhwIGVjaG8gZSgkcHJpbWFyeV9kZXBlbmRlbmN5WyduYW1lJ10pOyA/PiIgbmFtZT0iPD9waHAgZWNobyBlKCRwcmltYXJ5X2RlcGVuZGVuY3lbJ25hbWUnXSk7ID8+IiB2YWx1ZT0iIiAvPgogICAgICAgICAgPD9waHAgaWYoaXNzZXQoJGZpZWxkWyd2YWx1ZSddKSk6ID8+CiAgICAgICAgICAgICAgPD9waHAgaWYoJG9sZF9wcmltYXJ5X2RlcGVuZGVuY3kpOiA/PgogICAgICAgICAgICAgICAgICA8P3BocCAkX19jdXJyZW50TG9vcERhdGEgPSAkb2xkX3ByaW1hcnlfZGVwZW5kZW5jeTsgJF9fZW52LT5hZGRMb29wKCRfX2N1cnJlbnRMb29wRGF0YSk7IGZvcmVhY2goJF9fY3VycmVudExvb3BEYXRhIGFzICRpdGVtKTogJF9fZW52LT5pbmNyZW1lbnRMb29wSW5kaWNlcygpOyAkbG9vcCA9ICRfX2Vudi0+Z2V0TGFzdExvb3AoKTsgPz4KICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgY2xhc3M9InByaW1hcnlfaGlkZGVuIiBuYW1lPSI8P3BocCBlY2hvIGUoJHByaW1hcnlfZGVwZW5kZW5jeVsnbmFtZSddKTsgPz5bXSIgdmFsdWU9Ijw/cGhwIGVjaG8gZSgkaXRlbSk7ID8+Ij4KICAgICAgICAgICAgICAgICAgPD9waHAgZW5kZm9yZWFjaDsgJF9fZW52LT5wb3BMb29wKCk7ICRsb29wID0gJF9fZW52LT5nZXRMYXN0TG9vcCgpOyA/PgogICAgICAgICAgICAgIDw/cGhwIGVsc2U6ID8+CiAgICAgICAgICAgICAgICAgIDw/cGhwICRfX2N1cnJlbnRMb29wRGF0YSA9ICRmaWVsZFsndmFsdWUnXVswXS0+cGx1Y2soJ2lkJywgJ2lkJyktPnRvQXJyYXkoKTsgJF9fZW52LT5hZGRMb29wKCRfX2N1cnJlbnRMb29wRGF0YSk7IGZvcmVhY2goJF9fY3VycmVudExvb3BEYXRhIGFzICRpdGVtKTogJF9fZW52LT5pbmNyZW1lbnRMb29wSW5kaWNlcygpOyAkbG9vcCA9ICRfX2Vudi0+Z2V0TGFzdExvb3AoKTsgPz4KICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgY2xhc3M9InByaW1hcnlfaGlkZGVuIiBuYW1lPSI8P3BocCBlY2hvIGUoJHByaW1hcnlfZGVwZW5kZW5jeVsnbmFtZSddKTsgPz5bXSIgdmFsdWU9Ijw/cGhwIGVjaG8gZSgkaXRlbSk7ID8+Ij4KICAgICAgICAgICAgICAgICAgPD9waHAgZW5kZm9yZWFjaDsgJF9fZW52LT5wb3BMb29wKCk7ICRsb29wID0gJF9fZW52LT5nZXRMYXN0TG9vcCgpOyA/PgogICAgICAgICAgICAgIDw/cGhwIGVuZGlmOyA/PgogICAgICAgICAgICA8P3BocCBlbmRpZjsgPz4KICAgICAgICAgIDwvZGl2PgoKICAgICAgPD9waHAgJF9fY3VycmVudExvb3BEYXRhID0gJHByaW1hcnlfZGVwZW5kZW5jeVsnbW9kZWwnXTo6YWxsKCk7ICRfX2Vudi0+YWRkTG9vcCgkX19jdXJyZW50TG9vcERhdGEpOyBmb3JlYWNoKCRfX2N1cnJlbnRMb29wRGF0YSBhcyAkY29ubmVjdGVkX2VudGl0eV9lbnRyeSk6ICRfX2Vudi0+aW5jcmVtZW50TG9vcEluZGljZXMoKTsgJGxvb3AgPSAkX19lbnYtPmdldExhc3RMb29wKCk7ID8+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJjb2wtc20tPD9waHAgZWNobyBlKGlzc2V0KCRwcmltYXJ5X2RlcGVuZGVuY3lbJ251bWJlcl9jb2x1bW5zJ10pID8gaW50dmFsKDEyLyRwcmltYXJ5X2RlcGVuZGVuY3lbJ251bWJlcl9jb2x1bW5zJ10pIDogJzQnKTsgPz4iPgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNoZWNrYm94Ij4KICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJmb250LXdlaWdodC1ub3JtYWwiPgogICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImNoZWNrYm94IgogICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtaWQgPSAiPD9waHAgZWNobyBlKCRjb25uZWN0ZWRfZW50aXR5X2VudHJ5LT5pZCk7ID8+IgogICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzID0gJ3ByaW1hcnlfbGlzdCcKICAgICAgICAgICAgICAgICAgICAgICAgICA8P3BocCAkX19jdXJyZW50TG9vcERhdGEgPSAkcHJpbWFyeV9kZXBlbmRlbmN5OyAkX19lbnYtPmFkZExvb3AoJF9fY3VycmVudExvb3BEYXRhKTsgZm9yZWFjaCgkX19jdXJyZW50TG9vcERhdGEgYXMgJGF0dHJpYnV0ZSA9PiAkdmFsdWUpOiAkX19lbnYtPmluY3JlbWVudExvb3BJbmRpY2VzKCk7ICRsb29wID0gJF9fZW52LT5nZXRMYXN0TG9vcCgpOyA/PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8P3BocCBpZihpc19zdHJpbmcoJGF0dHJpYnV0ZSkgJiYgJGF0dHJpYnV0ZSAhPSAndmFsdWUnKTogPz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw/cGhwIGlmKCRhdHRyaWJ1dGU9PSduYW1lJyk6ID8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8P3BocCBlY2hvIGUoJGF0dHJpYnV0ZSk7ID8+PSI8P3BocCBlY2hvIGUoJHZhbHVlKTsgPz5fc2hvd1tdIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD9waHAgZWxzZTogPz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw/cGhwIGVjaG8gZSgkYXR0cmlidXRlKTsgPz49Ijw/cGhwIGVjaG8gZSgkdmFsdWUpOyA/PiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw/cGhwIGVuZGlmOyA/PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8P3BocCBlbmRpZjsgPz4KICAgICAgICAgICAgICAgICAgICAgICAgICA8P3BocCBlbmRmb3JlYWNoOyAkX19lbnYtPnBvcExvb3AoKTsgJGxvb3AgPSAkX19lbnYtPmdldExhc3RMb29wKCk7ID8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9Ijw/cGhwIGVjaG8gZSgkY29ubmVjdGVkX2VudGl0eV9lbnRyeS0+aWQpOyA/PiIKCiAgICAgICAgICAgICAgICAgICAgICAgICAgPD9waHAgaWYoICggaXNzZXQoJGZpZWxkWyd2YWx1ZSddKSAmJiBpc19hcnJheSgkZmllbGRbJ3ZhbHVlJ10pICYmIGluX2FycmF5KCRjb25uZWN0ZWRfZW50aXR5X2VudHJ5LT5pZCwgJGZpZWxkWyd2YWx1ZSddWzBdLT5wbHVjaygnaWQnLCAnaWQnKS0+dG9BcnJheSgpKSkgfHwgJG9sZF9wcmltYXJ5X2RlcGVuZGVuY3kgJiYgaW5fYXJyYXkoJGNvbm5lY3RlZF9lbnRpdHlfZW50cnktPmlkLCAkb2xkX3ByaW1hcnlfZGVwZW5kZW5jeSkpOiA/PgogICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQgPSAiY2hlY2tlZCIKICAgICAgICAgICAgICAgICAgICAgICAgICA8P3BocCBlbmRpZjsgPz4gPgogICAgICAgICAgICAgICAgICAgICAgICAgIDw/cGhwIGVjaG8gZSgkY29ubmVjdGVkX2VudGl0eV9lbnRyeS0+eyRwcmltYXJ5X2RlcGVuZGVuY3lbJ2F0dHJpYnV0ZSddfSk7ID8+CgogICAgICAgICAgICAgICAgICA8L2xhYmVsPgogICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgPC9kaXY+CiAgICAgIDw/cGhwIGVuZGZvcmVhY2g7ICRfX2Vudi0+cG9wTG9vcCgpOyAkbG9vcCA9ICRfX2Vudi0+Z2V0TGFzdExvb3AoKTsgPz4KICAgICAgPC9kaXY+CgogICAgICA8ZGl2IGNsYXNzPSJyb3ciPgogICAgICAgICAgPGRpdiBjbGFzcz0iY29sLXNtLTEyIj4KICAgICAgICAgICAgICA8bGFiZWw+PD9waHAgZWNobyAkc2Vjb25kYXJ5X2RlcGVuZGVuY3lbJ2xhYmVsJ107ID8+PC9sYWJlbD4KICAgICAgICAgICAgICA8P3BocCBlY2hvICRfX2Vudi0+bWFrZSgnY3J1ZDo6ZmllbGRzLmluYy50cmFuc2xhdGFibGVfaWNvbicsIFsnZmllbGQnID0+ICRzZWNvbmRhcnlfZGVwZW5kZW5jeV0sIFxJbGx1bWluYXRlXFN1cHBvcnRcQXJyOjpleGNlcHQoZ2V0X2RlZmluZWRfdmFycygpLCBbJ19fZGF0YScsICdfX3BhdGgnXSkpLT5yZW5kZXIoKTsgPz4KICAgICAgICAgIDwvZGl2PgogICAgICA8L2Rpdj4KCiAgICAgIDxkaXYgY2xhc3M9InJvdyI+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJoaWRkZW5fZmllbGRzX3NlY29uZGFyeSIgZGF0YS1uYW1lPSI8P3BocCBlY2hvIGUoJHNlY29uZGFyeV9kZXBlbmRlbmN5WyduYW1lJ10pOyA/PiI+CiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIGJwLWZpZWxkLW5hbWU9Ijw/cGhwIGVjaG8gZSgkc2Vjb25kYXJ5X2RlcGVuZGVuY3lbJ25hbWUnXSk7ID8+IiBuYW1lPSI8P3BocCBlY2hvIGUoJHNlY29uZGFyeV9kZXBlbmRlbmN5WyduYW1lJ10pOyA/PiIgdmFsdWU9IiIgLz4KICAgICAgICAgICAgPD9waHAgaWYoaXNzZXQoJGZpZWxkWyd2YWx1ZSddKSk6ID8+CiAgICAgICAgICAgICAgPD9waHAgaWYoJG9sZF9zZWNvbmRhcnlfZGVwZW5kZW5jeSk6ID8+CiAgICAgICAgICAgICAgICA8P3BocCAkX19jdXJyZW50TG9vcERhdGEgPSAkb2xkX3NlY29uZGFyeV9kZXBlbmRlbmN5OyAkX19lbnYtPmFkZExvb3AoJF9fY3VycmVudExvb3BEYXRhKTsgZm9yZWFjaCgkX19jdXJyZW50TG9vcERhdGEgYXMgJGl0ZW0pOiAkX19lbnYtPmluY3JlbWVudExvb3BJbmRpY2VzKCk7ICRsb29wID0gJF9fZW52LT5nZXRMYXN0TG9vcCgpOyA/PgogICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBjbGFzcz0ic2Vjb25kYXJ5X2hpZGRlbiIgbmFtZT0iPD9waHAgZWNobyBlKCRzZWNvbmRhcnlfZGVwZW5kZW5jeVsnbmFtZSddKTsgPz5bXSIgdmFsdWU9Ijw/cGhwIGVjaG8gZSgkaXRlbSk7ID8+Ij4KICAgICAgICAgICAgICAgIDw/cGhwIGVuZGZvcmVhY2g7ICRfX2Vudi0+cG9wTG9vcCgpOyAkbG9vcCA9ICRfX2Vudi0+Z2V0TGFzdExvb3AoKTsgPz4KICAgICAgICAgICAgICA8P3BocCBlbHNlOiA/PgogICAgICAgICAgICAgICAgPD9waHAgJF9fY3VycmVudExvb3BEYXRhID0gJGZpZWxkWyd2YWx1ZSddWzFdLT5wbHVjaygnaWQnLCAnaWQnKS0+dG9BcnJheSgpOyAkX19lbnYtPmFkZExvb3AoJF9fY3VycmVudExvb3BEYXRhKTsgZm9yZWFjaCgkX19jdXJyZW50TG9vcERhdGEgYXMgJGl0ZW0pOiAkX19lbnYtPmluY3JlbWVudExvb3BJbmRpY2VzKCk7ICRsb29wID0gJF9fZW52LT5nZXRMYXN0TG9vcCgpOyA/PgogICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBjbGFzcz0ic2Vjb25kYXJ5X2hpZGRlbiIgbmFtZT0iPD9waHAgZWNobyBlKCRzZWNvbmRhcnlfZGVwZW5kZW5jeVsnbmFtZSddKTsgPz5bXSIgdmFsdWU9Ijw/cGhwIGVjaG8gZSgkaXRlbSk7ID8+Ij4KICAgICAgICAgICAgICAgIDw/cGhwIGVuZGZvcmVhY2g7ICRfX2Vudi0+cG9wTG9vcCgpOyAkbG9vcCA9ICRfX2Vudi0+Z2V0TGFzdExvb3AoKTsgPz4KICAgICAgICAgICAgICA8P3BocCBlbmRpZjsgPz4KICAgICAgICAgICAgPD9waHAgZW5kaWY7ID8+CiAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICA8P3BocCAkX19jdXJyZW50TG9vcERhdGEgPSAkc2Vjb25kYXJ5X2RlcGVuZGVuY3lbJ21vZGVsJ106OmFsbCgpOyAkX19lbnYtPmFkZExvb3AoJF9fY3VycmVudExvb3BEYXRhKTsgZm9yZWFjaCgkX19jdXJyZW50TG9vcERhdGEgYXMgJGNvbm5lY3RlZF9lbnRpdHlfZW50cnkpOiAkX19lbnYtPmluY3JlbWVudExvb3BJbmRpY2VzKCk7ICRsb29wID0gJF9fZW52LT5nZXRMYXN0TG9vcCgpOyA/PgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbC1zbS08P3BocCBlY2hvIGUoaXNzZXQoJHNlY29uZGFyeV9kZXBlbmRlbmN5WydudW1iZXJfY29sdW1ucyddKSA/IGludHZhbCgxMi8kc2Vjb25kYXJ5X2RlcGVuZGVuY3lbJ251bWJlcl9jb2x1bW5zJ10pIDogJzQnKTsgPz4iPgogICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjaGVja2JveCI+CiAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9ImZvbnQtd2VpZ2h0LW5vcm1hbCI+CiAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3MgPSAnc2Vjb25kYXJ5X2xpc3QnCiAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1pZCA9ICI8P3BocCBlY2hvIGUoJGNvbm5lY3RlZF9lbnRpdHlfZW50cnktPmlkKTsgPz4iCiAgICAgICAgICAgICAgICAgICAgICAgICAgPD9waHAgJF9fY3VycmVudExvb3BEYXRhID0gJHNlY29uZGFyeV9kZXBlbmRlbmN5OyAkX19lbnYtPmFkZExvb3AoJF9fY3VycmVudExvb3BEYXRhKTsgZm9yZWFjaCgkX19jdXJyZW50TG9vcERhdGEgYXMgJGF0dHJpYnV0ZSA9PiAkdmFsdWUpOiAkX19lbnYtPmluY3JlbWVudExvb3BJbmRpY2VzKCk7ICRsb29wID0gJF9fZW52LT5nZXRMYXN0TG9vcCgpOyA/PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8P3BocCBpZihpc19zdHJpbmcoJGF0dHJpYnV0ZSkgJiYgJGF0dHJpYnV0ZSAhPSAndmFsdWUnKTogPz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8P3BocCBpZigkYXR0cmlidXRlPT0nbmFtZScpOiA/PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD9waHAgZWNobyBlKCRhdHRyaWJ1dGUpOyA/Pj0iPD9waHAgZWNobyBlKCR2YWx1ZSk7ID8+X3Nob3dbXSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8P3BocCBlbHNlOiA/PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD9waHAgZWNobyBlKCRhdHRyaWJ1dGUpOyA/Pj0iPD9waHAgZWNobyBlKCR2YWx1ZSk7ID8+IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw/cGhwIGVuZGlmOyA/PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8P3BocCBlbmRpZjsgPz4KICAgICAgICAgICAgICAgICAgICAgICAgICA8P3BocCBlbmRmb3JlYWNoOyAkX19lbnYtPnBvcExvb3AoKTsgJGxvb3AgPSAkX19lbnYtPmdldExhc3RMb29wKCk7ID8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPSI8P3BocCBlY2hvIGUoJGNvbm5lY3RlZF9lbnRpdHlfZW50cnktPmlkKTsgPz4iCgogICAgICAgICAgICAgICAgICAgICAgICAgIDw/cGhwIGlmKCAoIGlzc2V0KCRmaWVsZFsndmFsdWUnXSkgJiYgaXNfYXJyYXkoJGZpZWxkWyd2YWx1ZSddKSAmJiAoICBpbl9hcnJheSgkY29ubmVjdGVkX2VudGl0eV9lbnRyeS0+aWQsICRmaWVsZFsndmFsdWUnXVsxXS0+cGx1Y2soJ2lkJywgJ2lkJyktPnRvQXJyYXkoKSkgfHwgaXNzZXQoICRzZWNvbmRhcnlfaWRzWyRjb25uZWN0ZWRfZW50aXR5X2VudHJ5LT5pZF0pKSB8fCAkb2xkX3NlY29uZGFyeV9kZXBlbmRlbmN5ICYmIGluX2FycmF5KCRjb25uZWN0ZWRfZW50aXR5X2VudHJ5LT5pZCwgJG9sZF9zZWNvbmRhcnlfZGVwZW5kZW5jeSkpKTogPz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQgPSAiY2hlY2tlZCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw/cGhwIGlmKGlzc2V0KCAkc2Vjb25kYXJ5X2lkc1skY29ubmVjdGVkX2VudGl0eV9lbnRyeS0+aWRdKSk6ID8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQgPSBkaXNhYmxlZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD9waHAgZW5kaWY7ID8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgPD9waHAgZW5kaWY7ID8+ID4gPD9waHAgZWNobyBlKCRjb25uZWN0ZWRfZW50aXR5X2VudHJ5LT57JHNlY29uZGFyeV9kZXBlbmRlbmN5WydhdHRyaWJ1dGUnXX0pOyA/PgoKICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+CiAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgPD9waHAgZW5kZm9yZWFjaDsgJF9fZW52LT5wb3BMb29wKCk7ICRsb29wID0gJF9fZW52LT5nZXRMYXN0TG9vcCgpOyA/PgogICAgICA8L2Rpdj4KICAgIDwvZGl2PgoKCiAgICAKICAgIDw/cGhwIGlmKGlzc2V0KCRmaWVsZFsnaGludCddKSk6ID8+CiAgICAgICAgPHAgY2xhc3M9ImhlbHAtYmxvY2siPjw/cGhwIGVjaG8gJGZpZWxkWydoaW50J107ID8+PC9wPgogICAgPD9waHAgZW5kaWY7ID8+Cgo8P3BocCBlY2hvICRfX2Vudi0+bWFrZSgnY3J1ZDo6ZmllbGRzLmluYy53cmFwcGVyX2VuZCcsIFxJbGx1bWluYXRlXFN1cHBvcnRcQXJyOjpleGNlcHQoZ2V0X2RlZmluZWRfdmFycygpLCBbJ19fZGF0YScsICdfX3BhdGgnXSkpLT5yZW5kZXIoKTsgPz4KCgoKCgo8P3BocCAkX19lbnYtPnN0YXJ0UHVzaCgnY3J1ZF9maWVsZHNfc2NyaXB0cycpOyA/PgogICAgPHNjcmlwdD4KICAgICAgICB2YXIgIDw/cGhwIGVjaG8gZSgkZmllbGRbJ2ZpZWxkX3VuaXF1ZV9uYW1lJ10pOyA/PiA9IDw/cGhwIGVjaG8gJGRlcGVuZGVuY3lKc29uOyA/PjsKICAgIDwvc2NyaXB0Pgo8P3BocCAkX19lbnYtPnN0b3BQdXNoKCk7ID8+CgoKPD9waHAgJF9fZW52LT5zdGFydFB1c2goJ2NydWRfZmllbGRzX3NjcmlwdHMnKTsgPz4KICAKICA8P3BocCBpZighIEFzc2V0czo6aXNMb2FkZWQoJ2JwRmllbGRJbml0Q2hlY2tsaXN0RGVwZW5kZW5jeUVsZW1lbnQnKSkgeyBBc3NldHM6Om1hcmtBc0xvYWRlZCgnYnBGaWVsZEluaXRDaGVja2xpc3REZXBlbmRlbmN5RWxlbWVudCcpOyAgPz4KICAgIDxzY3JpcHQ+CiAgICAgIGZ1bmN0aW9uIGJwRmllbGRJbml0Q2hlY2tsaXN0RGVwZW5kZW5jeUVsZW1lbnQoZWxlbWVudCkgewoKICAgICAgICAgIHZhciB1bmlxdWVfbmFtZSA9IGVsZW1lbnQuZGF0YSgnZW50aXR5Jyk7CiAgICAgICAgICB2YXIgZGVwZW5kZW5jeUpzb24gPSB3aW5kb3dbdW5pcXVlX25hbWVdOwogICAgICAgICAgdmFyIHRoaXNGaWVsZCA9IGVsZW1lbnQ7CiAgICAgICAgICB2YXIgaGFuZGxlQ2hlY2tJbnB1dCA9IGZ1bmN0aW9uKGVsLCBmaWVsZCwgZGVwZW5kZW5jeUpzb24pIHsKICAgICAgICAgICAgbGV0IGlkQ3VycmVudCA9IGVsLmRhdGEoJ2lkJyk7CiAgICAgICAgICAgIC8vYWRkIGhpZGRlbiBmaWVsZCB3aXRoIHRoaXMgdmFsdWUKICAgICAgICAgICAgbGV0IG5hbWVJbnB1dCA9IGZpZWxkLmZpbmQoJy5oaWRkZW5fZmllbGRzX3ByaW1hcnknKS5kYXRhKCduYW1lJyk7CiAgICAgICAgICAgIGlmKGZpZWxkLmZpbmQoJ2lucHV0LnByaW1hcnlfaGlkZGVuW3ZhbHVlPSInK2lkQ3VycmVudCsnIl0nKS5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICBsZXQgaW5wdXRUb0FkZCA9ICQoJzxpbnB1dCB0eXBlPSJoaWRkZW4iIGNsYXNzPSJwcmltYXJ5X2hpZGRlbiIgbmFtZT0iJytuYW1lSW5wdXQrJ1tdIiB2YWx1ZT0iJytpZEN1cnJlbnQrJyI+Jyk7CgogICAgICAgICAgICAgIGZpZWxkLmZpbmQoJy5oaWRkZW5fZmllbGRzX3ByaW1hcnknKS5hcHBlbmQoaW5wdXRUb0FkZCk7CiAgICAgICAgICAgICAgZmllbGQuZmluZCgnLmhpZGRlbl9maWVsZHNfcHJpbWFyeScpLmZpbmQoJ2lucHV0LnByaW1hcnlfaGlkZGVuW3ZhbHVlPSInK2lkQ3VycmVudCsnIl0nKS50cmlnZ2VyKCdjaGFuZ2UnKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAkLmVhY2goZGVwZW5kZW5jeUpzb25baWRDdXJyZW50XSwgZnVuY3Rpb24oa2V5LCB2YWx1ZSl7CiAgICAgICAgICAgICAgLy9jaGVjayBhbmQgZGlzYWJsZSBzZWNvbmRpZXMgY2hlY2tib3gKICAgICAgICAgICAgICBmaWVsZC5maW5kKCdpbnB1dC5zZWNvbmRhcnlfbGlzdFt2YWx1ZT0iJyt2YWx1ZSsnIl0nKS5wcm9wKCAiY2hlY2tlZCIsIHRydWUgKTsKICAgICAgICAgICAgICBmaWVsZC5maW5kKCdpbnB1dC5zZWNvbmRhcnlfbGlzdFt2YWx1ZT0iJyt2YWx1ZSsnIl0nKS5wcm9wKCAiZGlzYWJsZWQiLCB0cnVlICk7CiAgICAgICAgICAgICAgZmllbGQuZmluZCgnaW5wdXQuc2Vjb25kYXJ5X2xpc3RbdmFsdWU9IicrdmFsdWUrJyJdJykuYXR0cignZm9yY2VkLXNlbGVjdCcsICd0cnVlJyk7CiAgICAgICAgICAgICAgLy9yZW1vdmUgaGlkZGVuIGZpZWxkcyB3aXRoIHNlY29uZGFyeSBkZXBlbmRlbmN5IGlmIHdhcyBzZXQKICAgICAgICAgICAgICB2YXIgaGlkZGVuID0gZmllbGQuZmluZCgnaW5wdXQuc2Vjb25kYXJ5X2hpZGRlblt2YWx1ZT0iJyt2YWx1ZSsnIl0nKTsKICAgICAgICAgICAgICBpZihoaWRkZW4pCiAgICAgICAgICAgICAgICBoaWRkZW4ucmVtb3ZlKCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfTsKICAgICAgICAgIAogICAgICAgICAgdGhpc0ZpZWxkLmZpbmQoJ2Rpdi5oaWRkZW5fZmllbGRzX3ByaW1hcnknKS5jaGlsZHJlbignaW5wdXQnKS5maXJzdCgpLm9uKCdDcnVkRmllbGQ6ZGlzYWJsZScsIGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICBsZXQgaW5wdXQgPSAkKGUudGFyZ2V0KTsKICAgICAgICAgICAgICBpbnB1dC5wYXJlbnQoKS5wYXJlbnQoKS5maW5kKCdpbnB1dFt0eXBlPWNoZWNrYm94XScpLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7CiAgICAgICAgICAgICAgaW5wdXQuc2libGluZ3MoJ2lucHV0JykuYXR0cignZGlzYWJsZWQnLCdkaXNhYmxlZCcpOwogICAgICAgICAgfSk7CgogICAgICAgICAgdGhpc0ZpZWxkLmZpbmQoJ2Rpdi5oaWRkZW5fZmllbGRzX3ByaW1hcnknKS5jaGlsZHJlbignaW5wdXQnKS5maXJzdCgpLm9uKCdDcnVkRmllbGQ6ZW5hYmxlJywgZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgIGxldCBpbnB1dCA9ICQoZS50YXJnZXQpOwogICAgICAgICAgICAgIGlucHV0LnBhcmVudCgpLnBhcmVudCgpLmZpbmQoJ2lucHV0W3R5cGU9Y2hlY2tib3hdJykubm90KCdbZm9yY2VkLXNlbGVjdF0nKS5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpOwogICAgICAgICAgICAgIGlucHV0LnNpYmxpbmdzKCdpbnB1dCcpLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7CiAgICAgICAgICB9KTsKCiAgICAgICAgICB0aGlzRmllbGQuZmluZCgnZGl2LmhpZGRlbl9maWVsZHNfc2Vjb25kYXJ5JykuY2hpbGRyZW4oJ2lucHV0JykuZmlyc3QoKS5vbignQ3J1ZEZpZWxkOmRpc2FibGUnLCBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgbGV0IGlucHV0ID0gJChlLnRhcmdldCk7CiAgICAgICAgICAgICAgaW5wdXQucGFyZW50KCkucGFyZW50KCkuZmluZCgnaW5wdXRbdHlwZT1jaGVja2JveF0nKS5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpOwogICAgICAgICAgICAgIGlucHV0LnNpYmxpbmdzKCdpbnB1dCcpLmF0dHIoJ2Rpc2FibGVkJywnZGlzYWJsZWQnKTsKICAgICAgICAgIH0pOwoKICAgICAgICAgIHRoaXNGaWVsZC5maW5kKCdkaXYuaGlkZGVuX2ZpZWxkc19zZWNvbmRhcnknKS5jaGlsZHJlbignaW5wdXQnKS5maXJzdCgpLm9uKCdDcnVkRmllbGQ6ZW5hYmxlJywgZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgIGxldCBpbnB1dCA9ICQoZS50YXJnZXQpOwogICAgICAgICAgICAgIGlucHV0LnBhcmVudCgpLnBhcmVudCgpLmZpbmQoJ2lucHV0W3R5cGU9Y2hlY2tib3hdJykubm90KCdbZm9yY2VkLXNlbGVjdF0nKS5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpOwogICAgICAgICAgICAgIGlucHV0LnNpYmxpbmdzKCdpbnB1dCcpLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7CiAgICAgICAgICB9KTsKCiAgICAgICAgICB0aGlzRmllbGQuZmluZCgnLnByaW1hcnlfbGlzdCcpLmVhY2goZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHZhciBjaGVja2JveCA9ICQodGhpcyk7CiAgICAgICAgICAgIC8vIHJlLWNoZWNrIHRoZSBzZWNvbmRhcnkgYm94ZXMgaW4gY2FzZSB0aGUgcHJpbWFyeSBpcyByZS1jaGVja2VkIGZyb20gb2xkLgogICAgICAgICAgICBpZihjaGVja2JveC5pcygnOmNoZWNrZWQnKSl7CiAgICAgICAgICAgICAgIGhhbmRsZUNoZWNrSW5wdXQoY2hlY2tib3gsIHRoaXNGaWVsZCwgZGVwZW5kZW5jeUpzb24pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIHJlZ2lzdGVyIHRoZSBjaGFuZ2UgZXZlbnQgdG8gaGFuZGxlIHN1YnNxdWVudCBjaGVja2JveCBzdGF0ZSBjaGFuZ2VzLgogICAgICAgICAgICBjaGVja2JveC5jaGFuZ2UoZnVuY3Rpb24oKXsKICAgICAgICAgICAgICBpZihjaGVja2JveC5pcygnOmNoZWNrZWQnKSl7CiAgICAgICAgICAgICAgICBoYW5kbGVDaGVja0lucHV0KGNoZWNrYm94LCB0aGlzRmllbGQsIGRlcGVuZGVuY3lKc29uKTsKICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgIGxldCBpZEN1cnJlbnQgPSBjaGVja2JveC5kYXRhKCdpZCcpOwogICAgICAgICAgICAgICAgLy9yZW1vdmUgaGlkZGVuIGZpZWxkIHdpdGggdGhpcyB2YWx1ZS4KICAgICAgICAgICAgICAgIHRoaXNGaWVsZC5maW5kKCdpbnB1dC5wcmltYXJ5X2hpZGRlblt2YWx1ZT0iJytpZEN1cnJlbnQrJyJdJykucmVtb3ZlKCk7CgogICAgICAgICAgICAgICAgLy8gdW5jaGVjayBhbmQgYWN0aXZlIHNlY29uZGFyeSBjaGVja2JveHMgaWYgYXJlIG5vdCBpbiBvdGhlciBzZWxlY3RlZCBwcmltYXJ5LgogICAgICAgICAgICAgICAgdmFyIHNlY29uZGFyeSA9IGRlcGVuZGVuY3lKc29uW2lkQ3VycmVudF07CgogICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkID0gW107CiAgICAgICAgICAgICAgICB0aGlzRmllbGQuZmluZCgnaW5wdXQucHJpbWFyeV9oaWRkZW4nKS5lYWNoKGZ1bmN0aW9uIChpbmRleCwgaW5wdXQpewogICAgICAgICAgICAgICAgICBzZWxlY3RlZC5wdXNoKCAkKHRoaXMpLnZhbCgpICk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAkLmVhY2goc2Vjb25kYXJ5LCBmdW5jdGlvbihpbmRleCwgc2Vjb25kYXJ5SXRlbSl7CiAgICAgICAgICAgICAgICAgIHZhciBvayA9IDE7CgogICAgICAgICAgICAgICAgICAkLmVhY2goc2VsZWN0ZWQsIGZ1bmN0aW9uKGluZGV4Miwgc2VsZWN0ZWRJdGVtKXsKICAgICAgICAgICAgICAgICAgICBpZiggZGVwZW5kZW5jeUpzb25bc2VsZWN0ZWRJdGVtXS5pbmRleE9mKHNlY29uZGFyeUl0ZW0pICE9IC0xICl7CiAgICAgICAgICAgICAgICAgICAgICBvayA9MDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgaWYob2spewogICAgICAgICAgICAgICAgICAgIHRoaXNGaWVsZC5maW5kKCdpbnB1dC5zZWNvbmRhcnlfbGlzdFt2YWx1ZT0iJytzZWNvbmRhcnlJdGVtKyciXScpLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgdGhpc0ZpZWxkLmZpbmQoJ2lucHV0LnNlY29uZGFyeV9saXN0W3ZhbHVlPSInK3NlY29uZGFyeUl0ZW0rJyJdJykucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgdGhpc0ZpZWxkLmZpbmQoJ2lucHV0LnNlY29uZGFyeV9saXN0W3ZhbHVlPSInK3NlY29uZGFyeUl0ZW0rJyJdJykucmVtb3ZlQXR0cignZm9yY2VkLXNlbGVjdCcpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CgoKICAgICAgICAgIHRoaXNGaWVsZC5maW5kKCcuc2Vjb25kYXJ5X2xpc3QnKS5jbGljayhmdW5jdGlvbigpewoKICAgICAgICAgICAgdmFyIGlkQ3VycmVudCA9ICQodGhpcykuZGF0YSgnaWQnKTsKICAgICAgICAgICAgaWYoJCh0aGlzKS5pcygnOmNoZWNrZWQnKSl7CiAgICAgICAgICAgICAgLy9hZGQgaGlkZGVuIGZpZWxkIHdpdGggdGhpcyB2YWx1ZQogICAgICAgICAgICAgIHZhciBuYW1lSW5wdXQgPSB0aGlzRmllbGQuZmluZCgnLmhpZGRlbl9maWVsZHNfc2Vjb25kYXJ5JykuZGF0YSgnbmFtZScpOwogICAgICAgICAgICAgIHZhciBpbnB1dFRvQWRkID0gJCgnPGlucHV0IHR5cGU9ImhpZGRlbiIgY2xhc3M9InNlY29uZGFyeV9oaWRkZW4iIG5hbWU9IicrbmFtZUlucHV0KydbXSIgdmFsdWU9IicraWRDdXJyZW50KyciPicpOwoKICAgICAgICAgICAgICB0aGlzRmllbGQuZmluZCgnLmhpZGRlbl9maWVsZHNfc2Vjb25kYXJ5JykuYXBwZW5kKGlucHV0VG9BZGQpOwoKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgLy9yZW1vdmUgaGlkZGVuIGZpZWxkIHdpdGggdGhpcyB2YWx1ZQogICAgICAgICAgICAgIHRoaXNGaWVsZC5maW5kKCdpbnB1dC5zZWNvbmRhcnlfaGlkZGVuW3ZhbHVlPSInK2lkQ3VycmVudCsnIl0nKS5yZW1vdmUoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CgogICAgICB9CiAgICA8L3NjcmlwdD4KICA8P3BocCB9ID8+Cjw/cGhwICRfX2Vudi0+c3RvcFB1c2goKTsgPz4KCgo8P3BocCAvKipQQVRIIEM6XFVzZXJzXGlzbWFlXERvY3VtZW50c1xQcm95ZWN0b0dlb01pclxnZW9taXItbGFyYXZlbC1JSE1HXGxhcmF2ZWxcdmVuZG9yXGJhY2twYWNrXGNydWRcc3JjXHJlc291cmNlc1x2aWV3c1xjcnVkL2ZpZWxkcy9jaGVja2xpc3RfZGVwZW5kZW5jeS5ibGFkZS5waHAgRU5EUEFUSCoqLyA/PiI7czo0NToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBuYW1lc3BhY2VzIjthOjA6e31zOjQzOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGluY2x1ZGVzIjthOjA6e31zOjQ0OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGZ1bmN0aW9ucyI7YTowOnt9czo0NDoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBjb25zdGFudHMiO2E6MDp7fXM6NDI6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAY2xhc3NlcyI7YTowOnt9czo0NToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBpbnRlcmZhY2VzIjthOjA6e31zOjQxOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAHRyYWl0cyI7YTowOnt9czo0MDoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBlbnVtcyI7YTowOnt9czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBtZXRhZGF0YSI7YTowOnt9fQ==";